define(["./module"],function(e){e.directive("phone",["httpService","messageService",function(e,n){return{restrict:"E",replace:!0,template:'<input type="number" class="j-input" name="phone" placeholder="手机号码" ng-model="user.phone" value="{{user.phone}}" data-empty="请输入手机号码" />',scope:!1,link:function(t,u,r){t.user={};var o=/^((145|147)|(15[^4])|(17[6-8])|((13|18)[0-9]))\d{8}$/;u.bind("blur",function(){""!==t.user.phone&&null!=t.user.phone&&o.test(t.user.phone)===!0&&e.getDatas("GET","/user/checkPhone/"+t.user.phone).then(function(e){n.show("手机号码已存在")})})}}}])});