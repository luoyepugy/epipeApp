define(["./module"],function(t){t.directive("listFilter",["$ionicModal","httpService","$rootScope",function(t,e,i){return{restrict:"AE",template:'<button class="button button-icon icon ion-android-menu"></button>',replace:!0,scope:{},link:function(n,s,o){function r(t){var n=10,s=0,o="/order/getMyOldOrders/"+n+"/"+i.purList.length+"/"+s+"/"+t;i.hasMore=!0;var r=e.getDatas("GET",o);r.then(function(t){var e=t.data;i.purList=e.orders,s=e.maxCount})}var a=null,u=!1;s.bind("click",function(){return u?void(a&&a.show()):(u=!0,void t.fromTemplateUrl("./js/templates/listFilterTemp.html",{scope:n,animation:"fade-in"}).then(function(t){a=t,a&&a.show()}))}),n.closeModal=function(){a&&a.hide()},n.$on("$destroy",function(){a&&a.remove()}),n.stateAll=function(){i.statusFilter="所有",r(i.statusFilter)},n.stateOffer=function(){i.statusFilter="报价",r(i.statusFilter)},n.statePaying=function(){i.statusFilter="待支付",r(i.statusFilter)},n.statePayed=function(){i.statusFilter="已支付",r(i.statusFilter)},n.stateReceiving=function(){i.statusFilter="已发货",r(i.statusFilter)},n.stateReceived=function(){i.statusFilter="已完成",r(i.statusFilter)}}}}])});