define(["./module"],function(t){t.controller("purListCtrl",["$scope","httpService","messageService","$state","$rootScope",function(t,r,e,a,o){o.hasMore=!0,o.purList=[];var s=10,n=0,u=o.statusFilter||"所有";url="/order/getMyOldOrders/"+s+"/"+o.purList.length+"/"+n+"/"+u;var i=r.getDatas("GET",url);i.then(function(t){var r=t.data;o.purList=r.orders,n=r.maxCount}),t.doRefresh=function(){u=o.statusFilter||"所有";var e="/order/getMyNewOrders/"+o.purList.length+"/"+n+"/"+u,a=r.getDatas("GET",e);a.then(function(r){var e=r.data;n=e.maxCount,o.purList=r.data.orders,t.$broadcast("scroll.refreshComplete")})},t.loadMore=function(){u=o.statusFilter||"所有";var a="/order/getMyOldOrders/"+s+"/"+o.purList.length+"/"+n+"/"+u,i=r.getDatas("GET",a);i.then(function(r){var a=r.data;n=a.maxCount,a.maxCount===o.purList.length?(o.hasMore=!1,e.show("没有更多新的数据")):o.purList=r.data.orders,t.$broadcast("scroll.infiniteScrollComplete")})}}])});