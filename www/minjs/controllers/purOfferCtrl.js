define(["./module"],function(t){t.controller("purOfferCtrl",["$scope","httpService","$state","$stateParams","messageService",function(t,e,a,o,r){var n=o.id,d=1,u=3,i=1,c="/order/getPurQuotations/"+n+"/"+d+"/"+u;e.getDatas("GET",c).then(function(e){var a=e.data;t.list=a.quotations,i=a.totolPage}),e.getDatas("GET","/order/getByOrderName/"+n).then(function(e){var a=e.data;t.product=a}),t.order=function(){for(var t,o=document.getElementsByName("choiceOffer"),r=0;r<o.length;r++)o[r].checked&&(t=o[r].value);null!==t&&void 0!==t&&e.getDatas("POST","/order/chooseOrderQuotation",{orderName:n,quotationId:t}).then(function(t){a.go("purchase.order",{id:n})})},t.changeOffer=function(){d+=1,i>=d?(e.getDatas("GET",c).then(function(e){var a=e.data;t.list=a.quotations,i=a.totolPage}),e.getDatas("GET","/order/getByOrderName/"+n).then(function(e){var a=e.data;t.product=a})):(d-=1,1===d?r.show("没有更多商家可供选择了"):(d=1,e.getDatas("GET","/order/getPurQuotations/"+n+"/"+d+"/"+u).then(function(e){var a=e.data;t.list=a.quotations,i=a.totolPage}),e.getDatas("GET","/order/getByOrderName/"+n).then(function(e){var a=e.data;t.product=a})))}}])});