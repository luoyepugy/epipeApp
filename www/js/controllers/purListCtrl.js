define(["./module"],function(t){t.controller("purListCtrl",["$scope","$ionicLoading","httpService","messageService","$state",function(t,e,a,n,o){var i=0,r="./json/purchase-list.json";t.hasMore=!0,e.show({template:"<ion-spinner></ion-spinner><h3>加载中...</h3>",duration:3e3});var s=a.getData(r);s.then(function(a){var n=a.data.items;e.hide(),t.list=n}),t.doRefresh=function(){var n=a.getData(r,{status:"refresh"});n.then(function(a){var n=a.data.items;e.hide(),t.list=n,t.$broadcast("scroll.refreshComplete")})},t.loadMore=function(){var e=a.getData(r,{status:"loadmore",id:i});e.then(function(e){for(var a=e.data.items,n=0;n<a.length;n++)t.list.push(a[n]);0===e.length&&(t.hasMore=!1),t.$broadcast("scroll.infiniteScrollComplete")})}}])});