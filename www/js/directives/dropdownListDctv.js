define(["./module"],function(e){e.directive("downList",["httpService","messageService",function(e,t){return{restrict:"AE",template:'<div><input type="text" class="{{inputClass}}"ã€€ name="{{name}}" placeholder="{{placeholder}}" ng-model="val" value="{{val}}"  data-empty="{{empty}}" /><ion-scroll class="downList" ng-if="downListShow"><ul><li ng-click="choiceItem()" ng-repeat="item in list">{{item.name}}</li></ul></ion-scroll></div>',replace:!0,scope:{val:"="},link:function(n,i,l){n.inputClass=l.inputclass||"",n.placeholder=l.placeholder||"",n.empty=l.empty||"",n.name=l.name||"",i.bind("keyup",function(){if(n.val.length>2){var i=e.getData("./json/down-list.json",{q:n.val});i.then(function(e){e.data.length>0&&(n.list=e.data,n.downListShow=!0)},function(e){t.show(e)})}}),n.choiceItem=function(){n.val=this.item.name,n.downListShow=!1}}}}])});