define(["./module"],function(t){t.directive("submitButton",["httpService","$ionicLoading","messageService","validateService","$state",function(t,e,n,i,o){return{restrict:"E",template:'<button class="button button-full button-energized button-round">{{text}}</button>',replace:!0,scope:{action:"@",state:"@",text:"@"},link:function(e,s,u){e.text=u.text;var a,c,l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,r=/^((145|147)|(15[^4])|(17[6-8])|((13|18)[0-9]))\d{8}$/;s.bind("click",function(){if(a=i.isEmpty(".j-form .j-input"),1!==a)return n.show(a),!1;if(c=i.submitData(".j-form"),null!==c.email&&void 0!==c.email&&1==!l.test(c.email))n.show("请输入正确的邮箱格式");else if(null!==c.phone&&void 0!==c.phone&&1==!r.test(c.phone))n.show("请输入正确的手机号码格式");else if(null!==c.confirmPwd&&void 0!==c.confirmPwd&&c.confirmPwd!==c.password)n.show("两次密码输入不一致");else{var e=t.getData(u.action,c);e.then(function(t){n.show(t.message),o.go(u.state)},function(t){n.show(t)})}})}}}])});